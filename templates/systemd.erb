# App systemd configuration for <%= @app_name %> (generated by puppet-puma)
# App Version: <%= @app_version %>

[Unit]
Description=<%= @app_name %> - puma application
After=network.target

[Service]
Type=simple
WorkingDirectory=<%= @app_root %>/current
RuntimeDirectory=<%= @app_name %>
PIDFile=<%= @puma_pid_path %>
User=<%= @puma_user %>
Group=<%= @puma_user %>
<% if appsignal != "false" %>       
Environment=APPSIGNAL_ENABLE_GC_INSTRUMENTATION=true
<% end %>

# The command to start puma
ExecStart=<%= @app_root %>/shared/bin/start.sh
ExecStop=<%= @app_root %>/shared/bin/stop.sh
# ExecRestart=<%= @app_root %>/shared/bin/restart.sh
ExecReload=<%= @app_root %>/shared/bin/reload.sh
Restart=always

[Install]
WantedBy=multi-user.target
